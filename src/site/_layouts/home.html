---
layout: defaultWithHero
inverse: true
---
{#
  Would we need custom HTML per language, copy & override
  the code to `home/en/index.html` and `home/fr/index.html`
#}
<section id="purpose">
  <h1>{% markdown paragraph1_title %}</h1>
  <div class="grid-layout-halves with-gutters">
    <div class="grid-cell">
      <h2>{% markdown problem_title %}</h2>
      <div>
        {% markdown problem_description %}
      </div>
    </div>
    <div class="grid-cell">
      <h2>{% markdown strategy_title %}</h2>
      <div>
        {% markdown strategy_description %}
        <a href="/{{locale}}/strategy">{{strategy_link_text}}</a>
      </div>
    </div>
    <div class="grid-cell">
      <h2>{% markdown join_title %}</h2>
      <div>
        {% markdown join_description %}
        <a href="{{join_link_url}}" >{{join_link_text}}</a>
      </div>
    </div>
    <div class="grid-cell">
      <h2>{% markdown partners_title %}</h2>
      <div>
        {% markdown partners_description %}
        <a href="/{{locale}}/partners">{{partners_link_text}}</a>
      </div>
  </div>
</section>

<section id="projects">
  <h1>{% markdown projects_title %}</h1>
  <div class="stack-layout with-gutters">
    {% set projects_to_display = defaultTranslation.page.data.featured_projects %}
    {% set articleLayout = cycler("card", "card-alt") %}
    {% for project_to_display in projects_to_display %}
      {% for project in collections.project %}
        {% if project.data.locale == locale
          and project.data.id == project_to_display%}
          {% set project_url = "/" + locale + "/projects#" + project.data.page.fileSlug %}
          <article-breakout
              class="stack-cell" layout="{{articleLayout.next()}}"
              href="{{project_url}}" img-src="{{project.data.image}}">
            <span slot="title">{{project.data.name}}</span>
            <span slot="caption">
              {% markdown project.data.image_caption %}
            </span>
            {% markdown project.data.description %}
            <button>{{i18n.globals[locale].read_more}}</button>
          </article-breakout>
        {% endif %}
      {% endfor %}
    {% endfor %}
  </div>
</section>

<section id="news">
  <h1>{% markdown news_title %}</h1>
  <noscript>You need JavaScript enabled to see
    the additional news articles hereafter.</noscript>
  <div class="grid-layout-halves with-gutters">
    {% set news = {editorial: news_editorials,
                   interview: news_interviews,
                   infographic: news_infographics} %}
    {% for news_type, news_ids in news %}
      {% for edito in collections[news_type] %}
        {% if edito.data.locale == locale and news_ids
           and edito.data.id in news_ids %}
          <article-breakout
              class="grid-cell" layout="box"
              href="{{edito.url}}" img-src="{{edito.data.image}}">
            <span slot="title">{% markdown edito.data.title %}</span>
            <span slot="caption">
              {% markdown edito.data.image_caption %}
            </span>
            {% markdown edito.data.lead %}
            <button>{{i18n.globals[locale].read_more}}</button>
          </article-breakout>
        {% endif %}
      {% endfor %}
    {% endfor %}
  </div>
</section>

<section id="newsletter" class="newsletter">
  <newsletter-signup
    lang="{{locale}}"
    form-name="newsletter-signup-hl">
  </newsletter-signup>
</section>

<script type="module">
  import '/components/article-breakout.js';
  import '/components/newsletter-signup.js';
</script>